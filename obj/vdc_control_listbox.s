;
; File generated by cc65 v 2.17 - Git eeb1b927
;
	.fopt		compiler,"cc65 v 2.17 - Git eeb1b927"
	.setcpu		"6502"
	.smart		on
	.autoimport	on
	.case		on
	.debuginfo	on
	.importzp	sp, sreg, regsave, regbank
	.importzp	tmp1, tmp2, tmp3, tmp4, ptr1, ptr2, ptr3, ptr4
	.macpack	longbranch
	.dbg		file, "vdc_control_listbox.c", 2491, 1543268877
	.dbg		file, "vdc_gui.h", 778, 1543280824
	.dbg		file, "J:\Software\Emulation\Commodore\Development\cc65\include/c128.h", 6693, 1534214079
	.dbg		file, "J:\Software\Emulation\Commodore\Development\cc65\include/_vic2.h", 11027, 1532377546
	.dbg		file, "J:\Software\Emulation\Commodore\Development\cc65\include/_sid.h", 3694, 1532377546
	.dbg		file, "J:\Software\Emulation\Commodore\Development\cc65\include/_vdc.h", 2880, 1532377546
	.dbg		file, "J:\Software\Emulation\Commodore\Development\cc65\include/_6526.h", 4033, 1532377546
	.dbg		file, "J:\Software\Emulation\Commodore\Development\cc65\include/peekpoke.h", 3166, 1532377546
	.dbg		file, "J:\Software\Emulation\Commodore\Development\cc65\include/string.h", 5198, 1532377546
	.dbg		file, "J:\Software\Emulation\Commodore\Development\cc65\include/stddef.h", 3127, 1532377546
	.dbg		file, "J:\Software\Emulation\Commodore\Development\cc65\include/stdio.h", 6334, 1532377546
	.dbg		file, "J:\Software\Emulation\Commodore\Development\cc65\include/stdarg.h", 2970, 1532377546
	.dbg		file, "J:\Software\Emulation\Commodore\Development\cc65\include/stdlib.h", 5884, 1532377546
	.dbg		file, "J:\Software\Emulation\Commodore\Development\cc65\include/conio.h", 9160, 1532377546
	.dbg		file, "J:\Software\Emulation\Commodore\Development\cc65\include/target.h", 3065, 1532377546
	.dbg		file, "J:\Software\Emulation\Commodore\Development\cc65\include/cbm.h", 11658, 1532377546
	.dbg		file, "J:\Software\Emulation\Commodore\Development\cc65\include/cbm_filetype.h", 5057, 1532377546
	.dbg		file, "vdc_win.h", 1736, 1543282193
	.dbg		file, "vdc_core.h", 1814, 1543295196
	.dbg		file, "vdc_controls.h", 561, 1543268877
	.dbg		file, "vdc_menus.h", 527, 1543268877
	.dbg		file, "vdc_control_listbox.h", 945, 1543268877
	.dbg		file, "vdc_control_textbox.h", 916, 1543268877
	.dbg		file, "vdc_control_label.h", 695, 1543268877
	.dbg		file, "vdc_control_button.h", 818, 1543268877
	.dbg		file, "vdc_control_checkbox.h", 815, 1543268877
	.dbg		sym, "sscanf", "00", extern, "_sscanf"
	.dbg		sym, "malloc", "00", extern, "_malloc"
	.dbg		sym, "VDC_DrawBox", "00", extern, "_VDC_DrawBox"
	.dbg		sym, "VDC_PrintAt", "00", extern, "_VDC_PrintAt"
	.dbg		sym, "CreateControl", "00", extern, "_CreateControl"
	.import		_sscanf
	.import		_malloc
	.import		_VDC_DrawBox
	.import		_VDC_PrintAt
	.import		_CreateControl
	.export		_CreateListbox
	.export		__renderListBoxHandler
	.export		__listBoxInputHandler

.segment	"RODATA"

L003F:
	.byte	$25,$33,$31,$5B,$5E,$2C,$5D,$25,$4E,$00
L0052:
	.byte	$20,$00
L005E	:=	L0052+0
L004B:
	.byte	$2A,$00

; ---------------------------------------------------------------
; __near__ struct _LISTBOX * __near__ CreateListbox (__near__ struct Window *, __near__ unsigned char *, unsigned char, unsigned char, unsigned char, unsigned char, unsigned char, __near__ unsigned char *)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_CreateListbox: near

	.dbg	func, "CreateListbox", "00", extern, "_CreateListbox"
	.dbg	sym, "window", "00", auto, 9
	.dbg	sym, "name", "00", auto, 7
	.dbg	sym, "x", "00", auto, 6
	.dbg	sym, "y", "00", auto, 5
	.dbg	sym, "width", "00", auto, 4
	.dbg	sym, "height", "00", auto, 3
	.dbg	sym, "itemCount", "00", auto, 2
	.dbg	sym, "items", "00", auto, 0
	.dbg	sym, "ctrl", "00", auto, -2
	.dbg	sym, "listBox", "00", auto, -4

.segment	"CODE"

	.dbg	line, "vdc_control_listbox.c", 14
	jsr     pushax
	.dbg	line, "vdc_control_listbox.c", 20
	jsr     decsp4
	ldy     #$10
	jsr     pushwysp
	ldy     #$10
	jsr     pushwysp
	ldy     #$0E
	lda     (sp),y
	jsr     pusha
	ldy     #$0E
	lda     (sp),y
	jsr     pusha
	ldx     #$00
	lda     #$04
	jsr     _CreateControl
	ldy     #$02
	jsr     staxysp
	.dbg	line, "vdc_control_listbox.c", 22
	cpx     #$00
	bne     L0086
	cmp     #$00
	jeq     L0029
	.dbg	line, "vdc_control_listbox.c", 24
L0086:	ldx     #$00
	lda     #$0A
	jsr     _malloc
	jsr     stax0sp
	.dbg	line, "vdc_control_listbox.c", 27
	ldy     #$03
	jsr     ldaxysp
	sta     ptr1
	stx     ptr1+1
	jsr     ldax0sp
	ldy     #$06
	sta     (ptr1),y
	iny
	txa
	sta     (ptr1),y
	.dbg	line, "vdc_control_listbox.c", 28
	jsr     ldax0sp
	sta     ptr1
	stx     ptr1+1
	ldy     #$03
	jsr     ldaxysp
	ldy     #$00
	sta     (ptr1),y
	iny
	txa
	sta     (ptr1),y
	.dbg	line, "vdc_control_listbox.c", 31
	jsr     ldax0sp
	sta     ptr1
	stx     ptr1+1
	ldy     #$08
	lda     (sp),y
	ldy     #$02
	sta     (ptr1),y
	.dbg	line, "vdc_control_listbox.c", 32
	jsr     ldax0sp
	sta     ptr1
	stx     ptr1+1
	ldy     #$07
	lda     (sp),y
	ldy     #$03
	sta     (ptr1),y
	.dbg	line, "vdc_control_listbox.c", 33
	jsr     ldax0sp
	sta     ptr1
	stx     ptr1+1
	ldy     #$06
	lda     (sp),y
	ldy     #$04
	sta     (ptr1),y
	.dbg	line, "vdc_control_listbox.c", 34
	jsr     ldax0sp
	sta     ptr1
	stx     ptr1+1
	ldy     #$05
	jsr     ldaxysp
	ldy     #$05
	sta     (ptr1),y
	iny
	txa
	sta     (ptr1),y
	.dbg	line, "vdc_control_listbox.c", 35
	jsr     ldax0sp
	sta     ptr1
	stx     ptr1+1
	lda     #$00
	ldy     #$07
	sta     (ptr1),y
	.dbg	line, "vdc_control_listbox.c", 36
	jsr     ldax0sp
	sta     ptr1
	stx     ptr1+1
	lda     #$00
	ldy     #$08
	sta     (ptr1),y
	iny
	sta     (ptr1),y
	.dbg	line, "vdc_control_listbox.c", 39
	ldy     #$03
	jsr     ldaxysp
	sta     ptr1
	stx     ptr1+1
	lda     #<(__renderListBoxHandler)
	ldy     #$0F
	sta     (ptr1),y
	iny
	lda     #>(__renderListBoxHandler)
	sta     (ptr1),y
	.dbg	line, "vdc_control_listbox.c", 40
	ldy     #$03
	jsr     ldaxysp
	sta     ptr1
	stx     ptr1+1
	lda     #<(__listBoxInputHandler)
	ldy     #$11
	sta     (ptr1),y
	iny
	lda     #>(__listBoxInputHandler)
	sta     (ptr1),y
	.dbg	line, "vdc_control_listbox.c", 42
	jsr     ldax0sp
	.dbg	line, "vdc_control_listbox.c", 46
L0029:	ldy     #$0F
	jmp     addysp
	.dbg	line

.endproc

; ---------------------------------------------------------------
; void __near__ _renderListBoxHandler (__near__ struct Control *)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	__renderListBoxHandler: near

	.dbg	func, "_renderListBoxHandler", "00", extern, "__renderListBoxHandler"
	.dbg	sym, "ctrl", "00", auto, 0
	.dbg	sym, "listBox", "00", auto, -2
	.dbg	sym, "win", "00", auto, -4
	.dbg	sym, "c", "00", auto, -5
	.dbg	sym, "ptr", "00", auto, -7
	.dbg	sym, "field", "00", auto, -39
	.dbg	sym, "n", "00", auto, -41
	.dbg	sym, "counter", "00", auto, -43
	.dbg	sym, "col", "00", auto, -45
	.dbg	sym, "row", "00", auto, -47

.segment	"CODE"

	.dbg	line, "vdc_control_listbox.c", 49
	jsr     pushax
	.dbg	line, "vdc_control_listbox.c", 50
	jsr     ldax0sp
	ldy     #$07
	jsr     pushwidx
	.dbg	line, "vdc_control_listbox.c", 51
	jsr     ldax0sp
	jsr     ldaxi
	ldy     #$09
	jsr     pushwidx
	.dbg	line, "vdc_control_listbox.c", 54
	jsr     decsp1
	ldy     #$04
	jsr     ldaxysp
	ldy     #$06
	jsr     pushwidx
	.dbg	line, "vdc_control_listbox.c", 57
	ldy     #$22
	jsr     subysp
	jsr     push0
	.dbg	line, "vdc_control_listbox.c", 59
	ldy     #$28
	jsr     ldaxysp
	sta     ptr1
	stx     ptr1+1
	ldx     #$00
	lda     (ptr1,x)
	jsr     pusha0
	ldy     #$2E
	jsr     ldaxysp
	sta     ptr1
	stx     ptr1+1
	ldy     #$02
	lda     (ptr1),y
	jsr     tosadda0
	jsr     pushax
	.dbg	line, "vdc_control_listbox.c", 60
	ldy     #$2A
	jsr     ldaxysp
	sta     ptr1
	stx     ptr1+1
	ldy     #$01
	lda     (ptr1),y
	jsr     pusha0
	ldy     #$30
	jsr     ldaxysp
	sta     ptr1
	stx     ptr1+1
	ldy     #$03
	lda     (ptr1),y
	jsr     tosadda0
	jsr     pushax
	.dbg	line, "vdc_control_listbox.c", 62
	ldy     #$02
	lda     (sp),y
	jsr     pusha
	ldy     #$01
	lda     (sp),y
	jsr     pusha
	ldy     #$30
	jsr     ldaxysp
	sta     ptr1
	stx     ptr1+1
	ldy     #$02
	lda     (ptr1),y
	jsr     pusha
	ldy     #$31
	jsr     ldaxysp
	sta     ptr1
	stx     ptr1+1
	ldy     #$03
	lda     (ptr1),y
	jsr     pusha
	lda     #$01
	jsr     _VDC_DrawBox
	.dbg	line, "vdc_control_listbox.c", 64
	jsr     ldax0sp
	jsr     incax1
	ldy     #$00
	.dbg	line, "vdc_control_listbox.c", 66
	jmp     L008B
	.dbg	line, "vdc_control_listbox.c", 68
L003A:	ldy     #$2E
	jsr     ldaxysp
	sta     ptr1
	stx     ptr1+1
	ldy     #$07
	ldx     #$00
	lda     (ptr1),y
	ldy     #$04
	cmp     (sp),y
	bne     L0044
	txa
	iny
	cmp     (sp),y
	bne     L0044
	.dbg	line, "vdc_control_listbox.c", 70
	ldy     #$2E
	jsr     ldaxysp
	jsr     ldaxi
	sta     ptr1
	stx     ptr1+1
	ldy     #$0E
	lda     (ptr1),y
	cmp     #$01
	bne     L0046
	.dbg	line, "vdc_control_listbox.c", 71
	jsr     pushw0sp
	ldy     #$05
	jsr     ldaxysp
	jsr     incax1
	jsr     pushax
	lda     #<(L004B)
	ldx     #>(L004B)
	.dbg	line, "vdc_control_listbox.c", 72
	jmp     L008E
	.dbg	line, "vdc_control_listbox.c", 73
L0046:	jsr     pushw0sp
	ldy     #$05
	jsr     ldaxysp
	jsr     incax1
	jsr     pushax
	lda     #<(L0052)
	ldx     #>(L0052)
L008E:	jsr     pushax
	ldx     #$00
	lda     #$01
	jsr     _VDC_PrintAt
	.dbg	line, "vdc_control_listbox.c", 75
	jsr     ldax0sp
	sta     regsave
	stx     regsave+1
	jsr     incax1
	jsr     stax0sp
	lda     regsave
	ldx     regsave+1
	jsr     pushax
	ldy     #$05
	jsr     ldaxysp
	jsr     incax2
	jsr     pushax
	lda     #$0C
	jsr     leaa0sp
	jsr     pushax
	ldx     #$00
	lda     #$01
	.dbg	line, "vdc_control_listbox.c", 77
	jmp     L008A
	.dbg	line, "vdc_control_listbox.c", 79
L0044:	jsr     pushw0sp
	ldy     #$05
	jsr     ldaxysp
	jsr     incax1
	jsr     pushax
	lda     #<(L005E)
	ldx     #>(L005E)
	jsr     pushax
	ldx     #$00
	txa
	jsr     _VDC_PrintAt
	.dbg	line, "vdc_control_listbox.c", 80
	jsr     ldax0sp
	sta     regsave
	stx     regsave+1
	jsr     incax1
	jsr     stax0sp
	lda     regsave
	ldx     regsave+1
	jsr     pushax
	ldy     #$05
	jsr     ldaxysp
	jsr     incax2
	jsr     pushax
	lda     #$0C
	jsr     leaa0sp
	jsr     pushax
	ldx     #$00
	txa
L008A:	jsr     _VDC_PrintAt
	.dbg	line, "vdc_control_listbox.c", 83
	ldy     #$07
	jsr     ldaxysp
	ldy     #$28
	jsr     addeqysp
	.dbg	line, "vdc_control_listbox.c", 85
	ldy     #$29
	jsr     ldaxysp
	sta     ptr1
	stx     ptr1+1
	ldy     #$00
	lda     (ptr1),y
	cmp     #$2C
	.dbg	line, "vdc_control_listbox.c", 86
	bne     L003B
	.dbg	line, "vdc_control_listbox.c", 88
	ldy     #$28
	ldx     #$00
	lda     #$01
	jsr     addeqysp
	.dbg	line, "vdc_control_listbox.c", 89
	ldy     #$05
	jsr     ldaxysp
	jsr     incax1
	ldy     #$04
L008B:	jsr     staxysp
	.dbg	line, "vdc_control_listbox.c", 66
	ldy     #$2B
	jsr     pushwysp
	lda     #<(L003F)
	ldx     #>(L003F)
	jsr     pushax
	lda     #$0C
	jsr     leaa0sp
	jsr     pushax
	lda     #$0C
	jsr     leaa0sp
	jsr     pushax
	ldy     #$08
	jsr     _sscanf
	cpx     #$00
	bne     L003B
	cmp     #$01
	jeq     L003A
	.dbg	line, "vdc_control_listbox.c", 91
L003B:	ldy     #$31
	jmp     addysp
	.dbg	line

.endproc

; ---------------------------------------------------------------
; void __near__ _listBoxInputHandler (__near__ struct Control *, unsigned char)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	__listBoxInputHandler: near

	.dbg	func, "_listBoxInputHandler", "00", extern, "__listBoxInputHandler"
	.dbg	sym, "ctrl", "00", auto, 1
	.dbg	sym, "c", "00", auto, 0
	.dbg	sym, "listBox", "00", auto, -2

.segment	"CODE"

	.dbg	line, "vdc_control_listbox.c", 95
	jsr     pusha
	.dbg	line, "vdc_control_listbox.c", 96
	ldy     #$02
	jsr     ldaxysp
	ldy     #$07
	jsr     pushwidx
	.dbg	line, "vdc_control_listbox.c", 98
	ldy     #$02
	lda     (sp),y
	cmp     #$11
	bne     L0094
	jsr     ldax0sp
	sta     ptr1
	stx     ptr1+1
	ldy     #$07
	lda     (ptr1),y
	jsr     pusha0
	ldy     #$03
	jsr     ldaxysp
	sta     ptr1
	stx     ptr1+1
	ldy     #$04
	ldx     #$00
	lda     (ptr1),y
	jsr     decax1
	jsr     tosicmp
	bcs     L0075
	.dbg	line, "vdc_control_listbox.c", 100
	jsr     ldax0sp
	jsr     pushax
	sta     ptr1
	stx     ptr1+1
	ldy     #$07
	lda     (ptr1),y
	clc
	adc     #$01
	jsr     staspidx
	.dbg	line, "vdc_control_listbox.c", 101
	ldy     #$04
	jsr     ldaxysp
	jsr     __renderListBoxHandler
	.dbg	line, "vdc_control_listbox.c", 103
	jsr     ldax0sp
	ldy     #$09
	jsr     ldaxidx
	cpx     #$00
	bne     L0092
	cmp     #$00
	beq     L0075
	.dbg	line, "vdc_control_listbox.c", 104
L0092:	jsr     ldax0sp
	ldy     #$09
	jsr     pushwidx
	ldy     #$03
	jsr     ldaxysp
	pha
	ldy     #$00
	lda     (sp),y
	sta     jmpvec+1
	iny
	lda     (sp),y
	sta     jmpvec+2
	pla
	jsr     jmpvec
	jsr     incsp2
	.dbg	line, "vdc_control_listbox.c", 107
L0075:	ldy     #$02
L0094:	lda     (sp),y
	cmp     #$91
	bne     L0081
	jsr     ldax0sp
	sta     ptr1
	stx     ptr1+1
	ldy     #$07
	lda     (ptr1),y
	jeq     incsp5
	.dbg	line, "vdc_control_listbox.c", 109
	jsr     ldax0sp
	jsr     pushax
	sta     ptr1
	stx     ptr1+1
	ldy     #$07
	lda     (ptr1),y
	sec
	sbc     #$01
	jsr     staspidx
	.dbg	line, "vdc_control_listbox.c", 110
	ldy     #$04
	jsr     ldaxysp
	jsr     __renderListBoxHandler
	.dbg	line, "vdc_control_listbox.c", 112
	jsr     ldax0sp
	ldy     #$09
	jsr     ldaxidx
	cpx     #$00
	bne     L0093
	cmp     #$00
	beq     L0081
	.dbg	line, "vdc_control_listbox.c", 113
L0093:	jsr     ldax0sp
	ldy     #$09
	jsr     pushwidx
	ldy     #$03
	jsr     ldaxysp
	pha
	ldy     #$00
	lda     (sp),y
	sta     jmpvec+1
	iny
	lda     (sp),y
	sta     jmpvec+2
	pla
	jsr     jmpvec
	jsr     incsp2
	.dbg	line, "vdc_control_listbox.c", 117
L0081:	jmp     incsp5
	.dbg	line

.endproc

